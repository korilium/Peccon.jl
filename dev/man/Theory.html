<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>theory · Peccon.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="Peccon.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Peccon.jl</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">setup</a></li><li><a class="tocitem" href="fundamental_understanding_intuition.html">fundamental understanding</a></li><li><a class="tocitem" href="glossary.html">glossary</a></li><li class="is-active"><a class="tocitem" href="Theory.html">theory</a><ul class="internal"><li><a class="tocitem" href="#Modern-Portfolio-Theory-(MPT)"><span>Modern Portfolio Theory (MPT)</span></a></li><li><a class="tocitem" href="#to-be-developed"><span>to be developed</span></a></li></ul></li><li><a class="tocitem" href="financial_planning_tools.html">financial planning tools</a></li><li><a class="tocitem" href="../lib/API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="Theory.html">theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Theory.html">theory</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/korilium/Peccon.jl/blob/master/docs/src/man/Theory.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Theory"><a class="docs-heading-anchor" href="#Theory">Theory</a><a id="Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Theory" title="Permalink"></a></h1><p>In this subsection each financial planning tool is fully explained. </p><h2 id="Modern-Portfolio-Theory-(MPT)"><a class="docs-heading-anchor" href="#Modern-Portfolio-Theory-(MPT)">Modern Portfolio Theory (MPT)</a><a id="Modern-Portfolio-Theory-(MPT)-1"></a><a class="docs-heading-anchor-permalink" href="#Modern-Portfolio-Theory-(MPT)" title="Permalink"></a></h2><p>Modern Portfolio Theory is all about minimizing the variance of the portfolio while taking into account the return of the portfolio with some risk-preference. The first thing to do, is to calculate the returns of the portfolio and the covariance matrix of the portfolio. </p><p>The expected return of the portfolio is calculated as follows: </p><p class="math-container">\[E(R_P) = \sum_iw_iE(R_i)\]</p><p>where <span>$R_P$</span> is the return of the portfolio, <span>$R_i$</span> is the return of the asset <span>$i$</span> and <span>$W_i$</span> is the weight of asset <span>$i$</span> in the portfolio. The sum of the weights should be equal to <span>$\sum_i w_i = 1$</span>.   Next, we express the variance of the portfolio as follows : </p><p class="math-container">\[\sigma^2_P  = \sum_i\sum_j w_iw_j\sigma_i\sigma_j\rho_{ij}\]</p><p>In matrix notation this becomes: </p><p class="math-container">\[\sigma^2_P =  w&#39;\Sigma w  \]</p><p>Remember, what we want to know is that for a given number of stocks which combinations gives us to lowest variance with the highest return. To achieve this we minimize the variance and take into account our risk-preference <span>$P$</span> with respect to returns <em>based on some historic data</em>.  We therefore minimize the following cost function: </p><p class="math-container">\[Min(w&#39;\Sigma w - P * E[R_p]) \]</p><p>given the following constraints: </p><p class="math-container">\[ w_1 + w_2 + ... + w_{n-1} + w_{n} =1\]</p><p class="math-container">\[ 0&gt; w_i &gt; 1  \]</p><p>We solve this optimal design problem using the <a href="https://en.wikipedia.org/wiki/Interior-point_method">Interior point Newton algorithm</a> from the <a href="https://julianlsolvers.github.io/Optim.jl/stable/#">Optim.jl package</a></p><p>The only parameter is our risk-preference <span>$P$</span>. For each risk-preference <span>$P$</span> there is an optimal combination of stock that minimizes our cost function. This creates the efficient frontier </p><h3 id="The-efficient-frontier"><a class="docs-heading-anchor" href="#The-efficient-frontier">The efficient frontier</a><a id="The-efficient-frontier-1"></a><a class="docs-heading-anchor-permalink" href="#The-efficient-frontier" title="Permalink"></a></h3><p>The upward sloped portion of the hyperbola is the efficient frontier. It reflects the best <em>expected</em> level of return for its level of risk as you will get the maximum amount of return with the least amount of variance for your portfolio. </p><p><img src="images/efficient_frontier.png" alt="risk"/> </p><h3 id="Sharp-ratio"><a class="docs-heading-anchor" href="#Sharp-ratio">Sharp ratio</a><a id="Sharp-ratio-1"></a><a class="docs-heading-anchor-permalink" href="#Sharp-ratio" title="Permalink"></a></h3><p>We can use the sharp ratio to see how well the return of the portfolio/asset compensates you for the risk that you take. The sharp ratio does however not take into account all risks involved and has the same limitations the MPT (see subsection limitations). </p><p class="math-container">\[ S_P = \frac{E[R_P - R_{b}]}{\sigma_P} \]</p><p>where <span>$R_b$</span> is the return of the baseline &quot;risk-free&quot; product. </p><h3 id="Limitations"><a class="docs-heading-anchor" href="#Limitations">Limitations</a><a id="Limitations-1"></a><a class="docs-heading-anchor-permalink" href="#Limitations" title="Permalink"></a></h3><p>There are three main limitation to this tool. The first limitation is that the MPT is a historical measurement of the portfolio performance. It does not say anything about future performance of the portfolio. As consequence, different macro-economic situations might lead to total different end results for the MPT. The second issue is that the tool is based on the expected return and variance of the portfolio. This captures the risk-return relationship quite well but it does not take into account <a href="https://en.wikipedia.org/wiki/Skewness">skewness</a> and <a href="https://en.wikipedia.org/wiki/Tail_risk">tail risk</a>. It therefore gives rise to a reduced volatility and an inflated growth rate for a portfolio. Lastly, the risk measurement is probabilistic in nature. It does not reflect the structural roots of the risks taken. For example, the risk of a stock are off a total different nature then that of a commodity, but MPT still accounts them in the same way. </p><h3 id="Adaptations"><a class="docs-heading-anchor" href="#Adaptations">Adaptations</a><a id="Adaptations-1"></a><a class="docs-heading-anchor-permalink" href="#Adaptations" title="Permalink"></a></h3><p>The cost function can be altered if the function stays convex. We can therefore adapt our cost function to account for more precise measurements of risk. One of the most popular adaptions is the Post-Modern Portfolio Theory (PMPT). </p><p>The current tool only implements the MPT. Future work will enable PMPT and other adaptions to be made possible. </p><h3 id="Recommended-usage"><a class="docs-heading-anchor" href="#Recommended-usage">Recommended usage</a><a id="Recommended-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Recommended-usage" title="Permalink"></a></h3><p>Never use this tool for individual stock picking and never but then also never rely <em>only</em> on the MPT. Always do your due diligence before creating your portfolio and again this is no way or form financial advice. </p><p>So why should you use this tool and for what purpose? It is highly recommended to use this tool with exchange traded funds (ETF) as these products are already substantially diversified and issue two of the MPT is therefore greatly diminished. Also, the structural risk that certain ETF are exposed is difficult the estimate and the MPT can help you gain insights into which ETF have less or more risk compared to the returns they offer. Lastly, MPT also works better if you invest in all assets classes as each class has risks of a different nature. MPT does not take that into account and you therefore have to de it yourself. You also are less exposed to one particular kind of risk. </p><p>To know which portfolio weights you should apply, you have to understand your risk preference. If you do not want to take a lot of risk, it is beneficial to look at optimal portfolio&#39;s with low values in <span>$P$</span>. The reverse is true for people who are risk seeking. </p><h2 id="to-be-developed"><a class="docs-heading-anchor" href="#to-be-developed">to be developed</a><a id="to-be-developed-1"></a><a class="docs-heading-anchor-permalink" href="#to-be-developed" title="Permalink"></a></h2><h4 id="Post-Modern-Portfolio-Theory"><a class="docs-heading-anchor" href="#Post-Modern-Portfolio-Theory">Post-Modern Portfolio Theory</a><a id="Post-Modern-Portfolio-Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Post-Modern-Portfolio-Theory" title="Permalink"></a></h4><h5 id="Sortino-ratio"><a class="docs-heading-anchor" href="#Sortino-ratio">Sortino ratio</a><a id="Sortino-ratio-1"></a><a class="docs-heading-anchor-permalink" href="#Sortino-ratio" title="Permalink"></a></h5><h3 id="Captial-asset-pricing-model-(CAPM)"><a class="docs-heading-anchor" href="#Captial-asset-pricing-model-(CAPM)">Captial asset pricing model (CAPM)</a><a id="Captial-asset-pricing-model-(CAPM)-1"></a><a class="docs-heading-anchor-permalink" href="#Captial-asset-pricing-model-(CAPM)" title="Permalink"></a></h3><h3 id="Optimal-control-of-spending,-saving-and-investment"><a class="docs-heading-anchor" href="#Optimal-control-of-spending,-saving-and-investment">Optimal control of spending, saving and investment</a><a id="Optimal-control-of-spending,-saving-and-investment-1"></a><a class="docs-heading-anchor-permalink" href="#Optimal-control-of-spending,-saving-and-investment" title="Permalink"></a></h3></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="glossary.html">« glossary</a><a class="docs-footer-nextpage" href="financial_planning_tools.html">financial planning tools »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 30 April 2023 22:05">Sunday 30 April 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
