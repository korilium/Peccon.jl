<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>financial planning tools · Peccon.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="Peccon.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Peccon.jl</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">setup</a></li><li><a class="tocitem" href="fundamental_understanding_intuition.html">fundamental understanding</a></li><li><a class="tocitem" href="Theory.html">theory</a></li><li class="is-active"><a class="tocitem" href="financial_planning_tools.html">financial planning tools</a><ul class="internal"><li><a class="tocitem" href="#Modern-Portfolio-Theory-(MPT)"><span>Modern Portfolio Theory (MPT)</span></a></li></ul></li><li><a class="tocitem" href="../lib/API.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="financial_planning_tools.html">financial planning tools</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="financial_planning_tools.html">financial planning tools</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/korilium/Peccon.jl/blob/master/docs/src/man/financial_planning_tools.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Planning-tools"><a class="docs-heading-anchor" href="#Planning-tools">Planning tools</a><a id="Planning-tools-1"></a><a class="docs-heading-anchor-permalink" href="#Planning-tools" title="Permalink"></a></h1><h2 id="Modern-Portfolio-Theory-(MPT)"><a class="docs-heading-anchor" href="#Modern-Portfolio-Theory-(MPT)">Modern Portfolio Theory (MPT)</a><a id="Modern-Portfolio-Theory-(MPT)-1"></a><a class="docs-heading-anchor-permalink" href="#Modern-Portfolio-Theory-(MPT)" title="Permalink"></a></h2><p>The modern portfolio theory (MPT) is one of the oldest applications in modern finance still used today. The technical implication can be found in the theory subsection.  We will now demonstrate how MPT is implemented in the Peccon package and lastly cover some import limitations of the tool. </p><h3 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h3><p>First extract the daily price data of all the assets you are considering in your portfolio. </p><pre><code class="language-julia hljs"> Tickers = [&quot;ADAEUR&quot;,  &quot;AMZN&quot;, &quot;ING&quot;, &quot;VEU&quot;, &quot;PICK&quot;]

data= fin_data(Tickers, 250)
5-element Vector{Any}:
 250×10 DataFrame
 Row │ timestamp   open      high      low       close     adjusted_close  vol ⋯
     │ SubStrin…   Float64   Float64   Float64   Float64   Float64         Int ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ 2023-03-30  0.351717  0.353378  0.345903  0.348672        0.348672   14 ⋯
   2 │ 2023-03-29  0.339719  0.359931  0.338335  0.351717        0.351717  190
   3 │ 2023-03-28  0.318954  0.34175   0.316278  0.339719        0.339719  133
  ⋮  │     ⋮          ⋮         ⋮         ⋮         ⋮            ⋮             ⋱
 249 │ 2022-07-25  0.472525  0.475663  0.437547  0.438562        0.438562  200
 250 │ 2022-07-24  0.477232  0.495413  0.470218  0.472525        0.472525  233
                                                  4 columns and 235 rows omitted
.
.
.

</code></pre><p>Then calculated the daily log returns for each assets in the portfolio. </p><pre><code class="language-julia hljs">returns = daily_returns(data, Tickers)
250×5 DataFrame
 Row │ ADAEUR       AMZN          ING          VEU          PICK        
     │ Float64      Float64       Float64      Float64      Float64
─────┼──────────────────────────────────────────────────────────────────
   1 │  0.0          0.0           0.0          0.0          0.0
   2 │  0.00869685  -0.0304849    -0.0197009   -0.00838579  -0.0149725
   3 │ -0.0347072    0.00819341   -0.00781593  -0.00460388  -0.0149531
  ⋮  │      ⋮            ⋮             ⋮            ⋮            ⋮
 249 │  0.0159087   -0.0288445    -0.0140781   -0.00787406  -0.00418172
 250 │  0.0745889   -0.00344503   -0.0142792   -0.0103646   -0.0246831
                                                        245 rows omitted</code></pre><p>Subsequently, simulate 5000 possible portfolio combinations with the assets in the portfolio. </p><pre><code class="language-julia hljs">port_sim = sim_mpt(returns)
5000×8 DataFrame
  Row │ exp_return  port_var  weight_ADAEUR  weight_AMZN  weight_ING  weight_VEU  weight_PICK  port_std 
      │ Float64     Float64   Float64        Float64      Float64     Float64     Float64      Float64
──────┼─────────────────────────────────────────────────────────────────────────────────────────────────
    1 │   0.782005  0.371563      0.314956     0.187496    0.106037    0.29146      0.100051   0.60956
    2 │   0.44903   0.127016      0.204426     0.0915665   0.0956426   0.387233     0.221132   0.356393
  ⋮   │     ⋮          ⋮            ⋮             ⋮           ⋮           ⋮            ⋮          ⋮
 4999 │   1.08724   0.779559      0.29427      0.285084    0.156916    0.255411     0.0083186  0.882926
 5000 │   0.631883  0.366295      0.0328957    0.182578    0.451323    0.23108      0.102123   0.605223
                                                                                       4995 rows omitted</code></pre><p>Plot the expected return and variance of each simulated portfolio to visualize the efficient frontier.  </p><pre><code class="language- hljs">using Peccon, StatsPlots, DataFrames # hide 
Tickers = [&quot;VOO&quot;, &quot;BSV&quot;, &quot;GLD&quot;] # hide
data= fin_data(Tickers, &quot;0VS2G38H6PKP03GX&quot; )
returns = daily_returns(data, Tickers) # hide
port_sim = sim_mpt(returns,10000 )
@df port_sim scatter(:port_var, :exp_return)</code></pre><pre><code class="language-julia hljs">a = 1
b = 2
a + b</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3</code></pre><p>Lastly, calculate the sharp ratio to find the portfolio with the optimal  return variation ratio </p><pre><code class="language-julia hljs">port_opt = sharp_ratio(port_sim)
5000×9 DataFrame
  Row │ exp_return   port_var   weight_ADAEUR  weight_AMZN  weight_ING   weight_VEU  weight_PICK  port_std  sharp_ratio 
      │ Float64      Float64    Float64        Float64      Float64      Float64     Float64      Float64   Float64
──────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────
    1 │ 0.000978628  0.0728112      0.0432636   0.00380148  0.538456      0.382372     0.0321063  0.269835  -0.0704925
    2 │ 0.0224071    0.0916218      0.0918305   0.0123358   0.671231      0.105515     0.119087   0.302691   0.00795236
  ⋮   │      ⋮           ⋮            ⋮             ⋮            ⋮           ⋮            ⋮          ⋮           ⋮
 4999 │ 0.75761      0.309236       0.412322    0.159658    0.000185982   0.097781     0.330053   0.55609    1.32642
 5000 │ 0.735419     0.290243       0.422292    0.150836    0.00973458    0.0215554    0.395581   0.538742   1.32794
                                                                                                       4995 rows omitted

julia&gt; port_opt[end,:]
DataFrameRow
  Row │ exp_return  port_var  weight_ADAEUR  weight_AMZN  weight_ING  weight_VEU  weight_PICK  port_std  sharp_ratio 
      │ Float64     Float64   Float64        Float64      Float64     Float64     Float64      Float64   Float64
──────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────
 5000 │   0.735419  0.290243       0.422292     0.150836  0.00973458   0.0215554     0.395581  0.538742      1.32794</code></pre><h3 id="limitations"><a class="docs-heading-anchor" href="#limitations">limitations</a><a id="limitations-1"></a><a class="docs-heading-anchor-permalink" href="#limitations" title="Permalink"></a></h3><ul><li>based on expected values <ul><li>not capture the skewed distribution of risk and return , gives rise to reduced volatility and inflated growth of return </li></ul></li><li>historical measurement <ul><li>future might not be the same as the past </li></ul></li><li>risk measurement is probabilistic in nature, not structural. </li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="Theory.html">« theory</a><a class="docs-footer-nextpage" href="../lib/API.html">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 23 April 2023 14:49">Sunday 23 April 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
